## outubeå‹•ç”»ã‚’AIã«ç†è§£ã•ã›ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•ç”Ÿæˆ


ä»Šå›ã¯chatGPTã‚’æ´»ç”¨ã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„è‡ªå‹•ç”Ÿæˆç³»ã®ãƒã‚¿ã‚’æŒã£ã¦å‚ã‚Šã¾ã—ãŸã€ä¸€è¨€ã§è¨€ã†ã¨"AIã«youtubeè¦‹ã›ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•ç”Ÿæˆã•ã›ã‚ˆã†"ã¨ã„ã†è©¦ã¿ã§ã™ã€‚

å‹•ç”»ã‚’AIã«è§£é‡ˆã•ã›ã‚‹æ‰‹æ³•ã£ã¦å‹•ç”»éŸ³å£°ã®å…¥åŠ›ã‹ã‚‰ãŒå¤šã‹ã£ãŸã¨æ€ã„ã¾ã™ãŒã€ä»Šå›ã¯å‹•ç”»ã®ã‚·ãƒ¼ãƒ³è§£æã¨éŸ³å£°è§£æã‚’ã‚»ãƒƒãƒˆã«ã—ã¦chatGPTã«æ¸¡ã—ã¦ã¿ãŸã‚‰ã€æ€ã£ãŸã‚ˆã‚Šã‚‚ç²¾åº¦ãŒé«˜ã"ã“ã®ã¾ã¾ä½¿ãˆã‚‹ã‚„ã‚“"ã¨æ°—ä»˜ãã¾ã—ãŸã®ã§ãŠæŠ«éœ²ç›®ã—ã¾ã™ã€‚


ç›®æ¬¡
å‹•ä½œã¯ã“ã‚“ãªæ„Ÿã˜
ç”¨é€”
ã‚³ã‚¹ãƒˆ
å¿…è¦ãªç‰©
ä»•çµ„ã¿
å‹•ç”»å–å¾—
æ˜ åƒè§£æ
éŸ³å£°è§£æ
chatGPTã§è¿”ç­”
èª²é¡Œ

ã™ã¹ã¦è¡¨ç¤º
å‹•ä½œã¯ã“ã‚“ãªæ„Ÿã˜

å‹•ç”»å†…å®¹ã‚’æŠŠæ¡ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã£ã¦è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€"éŸ³å£°+æ˜ åƒ+LLM"ã®çµ„ã¿åˆã‚ã›ã£ã¦åƒ•ã¯è¦‹ãŸäº‹ãªã‹ã£ãŸã®ã§ä½œã£ã¦è¦‹ã¾ã—ãŸã‚‰ã€æƒ³åƒã‚ˆã‚Šã‚‚æ±ç”¨æ€§ã®é«˜ãã†ãªç‰©ã«ä»•ä¸ŠãŒã‚Šã¾ã—ãŸã€‚

ç”¨é€”
å½“ã‚·ã‚¹ãƒ†ãƒ æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆã¯"äººé–“ãŒå‹•ç”»ã‚’è¦‹ãªãã¦ã‚‚é«˜ã„ç²¾åº¦ã§AIãŒå†…å®¹ã‚’æŠŠæ¡ã§ãã‚‹"äº‹ã§ã€è¦ã¯ç–‘ä¼¼çš„ãªã€ç›®+è€³+è„³ã¿ãã€‘ã®ã‚³ãƒ³ãƒœã‚’å€‹äººãŒå®‰ä¾¡ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã¨ã„ã†ç‚¹ã§ã™ã€‚

å„æ¥­ç•Œã®éš…ã€…ã¾ã§èª¿ã¹ã‚Œã°æ•°ãˆãã‚Œãªã„ãã‚‰ã„ã®ãƒ‹ãƒ¼ã‚ºã‚’ç™ºæ˜ã§ãã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã±ã£ã¨æ€ã„ä»˜ã„ãŸã®ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚

â—† youtubeå°æœ¬ã®å†ç¾ï¼š
ã€€â†’ ä»–ã®youtuberã‹ã‚‰ãƒã‚¿ã‚’æ‹å€Ÿ
â—† æ•™è‚²å‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦ç´„ã€æ•´ç†ï¼š
ã€€â†’ æ•™ç§‘æ›¸ä½œã‚Œã¡ã‚ƒã†
â—† å‹•ç”»ãƒˆãƒ”ãƒƒã‚¯ãƒ»ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã®è‡ªå‹•ç”Ÿæˆï¼ˆå‹•ç”»ã®æ¤œç´¢æ€§å‘ä¸Šï¼‰ï¼š
ã€€â†’ æ˜ åƒã®å†…å®¹ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã§ãã‚‹
â—† ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‡ªå‹•ç”Ÿæˆï¼š
ã€€â†’ æ›¸ç±/ãƒ–ãƒ­ã‚°/ãƒ¡ãƒ«ãƒã‚¬ãªã‚“ã§ã‚‚ã”ã–ã‚Œ
â—† ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼è¦ç´„ãƒ»ãƒã‚¤ãƒ©ã‚¤ãƒˆç”Ÿæˆï¼š
ã€€â†’ æ˜ åƒæƒ…å ±ã‚‚å«ã‚ãŸ1ãƒ©ãƒ³ã‚¯ä¸Šã®æ–‡å­—èµ·ã“ã—ã‚’å®Ÿç¾
â—† ã‚¢ãƒ‹ãƒ¡ã€ãƒ‰ãƒ©ãƒã€æ˜ ç”»ãªã©ã®è©•è«–ç”Ÿæˆï¼š
ã€€â†’ å£ä¸‹æ‰‹ãªã‚ãªãŸã®ä»£ã‚ã‚Šã«LLMãŒç„¡é™ã®èªå½™åŠ›ã§ã‚µãƒãƒ¼ãƒˆ
â—† å°‚é–€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‹ã¿ç •ã„ã¦è§£èª¬ï¼š
ã€€â†’ å‹•ç”»å†…å®¹ãŒé›£ã—éãã¦ã‚‚LLMãŒç†è§£ã‚’ã‚µãƒãƒ¼ãƒˆ

ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚LLMä½¿ã£ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ã„ã‚‹æ–¹ã‚‚å¤šã„ã¨æ€ã„ã¾ã™ãŒã€å†…å®¹ãŒã‚¤ãƒã‚¤ãƒã ã¨æ€ã£ãŸäº‹ã‚ã‚Šã¾ã›ã‚“ï¼Ÿ

å½“ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã ã‘ã§ãªãå‹•ç”»æƒ…å ±ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ã®ã§ã€ã“ã¡ã‚‰ãŒç´°ã‹ãæŒ‡ç¤ºã—ãªãã¦ã‚‚ä¼¼ãŸã‚ˆã†ãªé›°å›²æ°—ã®å‹•ç”»ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã€ã„ã„æ„Ÿã˜ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›ã—ã¦ãã‚Œã¾ã™ã€‚

ã‚³ã‚¹ãƒˆ
å»¶ã¹10æ•°æ™‚é–“ç¨‹åº¦ã®å‹•ç”»è§£æã‚’è¡Œã£ãŸçµæœã€é‡‘é¡ã®ãƒœãƒªãƒ¥ãƒ¼ãƒ æ„Ÿã¯ã“ã‚“ãªæ„Ÿã˜ã«ã€‚

ç”»åƒ
200å††ãã‚‰ã„ã§ã—ãŸã€å®‰ã£ï¼

ç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒœãƒªãƒ¥ãƒ¼ãƒ çš„ã«ã¯ã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã«ã—ã¦1ãƒ¶æœˆåˆ†ã¯å‡ºåŠ›ã—ãŸã¨æ€ã„ã¾ã™ã€‚

èª²é‡‘é¡ã¯chatGPTã¸ã®å…¥å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã§æ±ºã¾ã‚Šã¾ã™ã‚“ã§ã€ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®å¤§ãã„è¦ç´ ã¯â‘ ã‚·ãƒ¼ãƒ³åˆ‡æ›¿æ•°,â‘¡ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ–‡å­—æ•°ã§ã™ã€‚

ã¤ã¾ã‚Šã€é•·æ™‚é–“ã®å‹•ç”»ã‚„ã‚·ãƒ¼ãƒ³åˆ‡æ›¿æ¤œå‡ºã®æ„Ÿåº¦ã‚’é«˜ãã™ã‚‹ã¨ã‚³ã‚¹ãƒˆã¯å¢—åŠ ã—ã¾ã™ãŒã€ã„ãšã‚Œã‚‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã¾ã™ã—ã€ã»ã¼ç„¡åˆ¶é™ã§ä½¿ç”¨ã—ãŸçµæœãŒä¸Šè¨˜ç”»åƒãªã®ã§ã“ã‚“ãªã‚‚ã‚“ã§ã™ã€‚

å¿…è¦ãªç‰©
python

openaiAPIKEY

openaiã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ãŠé‡‘ãƒãƒ£ãƒ¼ã‚¸

ãƒ‘ã‚½ã‚³ãƒ³ã®ã‚¹ãƒšãƒƒã‚¯ã‚‚é«˜ç´šãªç‰©ã¯ä¸è¦ã§ã™ã€GPUãªã—ã§ã‚‚ååˆ†ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ä½œã‚Šã¾ã—ãŸã€‚

ä»•çµ„ã¿
ã–ã£ãã‚Šå·¥ç¨‹ã‚’ã¾ã¨ã‚ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã€‚

1. å‹•ç”»å–å¾—
2. ã‚·ãƒ¼ãƒ³æ¤œå‡º
3. æ˜ åƒè§£æ
4. éŸ³å£°æ–‡å­—èµ·ã“ã—
5. chatGPTã§è¿”ç­”

å‰²ã¨ã‚·ãƒ³ãƒ—ãƒ«æ§‹æˆã‹ãªã¨æ€ã„ã¾ã™ã€‚

å‹•ç”»å–å¾—
youtubeå‹•ç”»ã®å–å¾—ã¯yt_dlpãŒä½¿ã„ã‚„ã™ãã¦ãŠæ°—ã«å…¥ã‚Šã§ã™ã€‚

yt-dlp/yt-dlp: A feature-rich command-line audio/video downloader
A feature-rich command-line audio/video downloader - yt-dlp/yt-dlp

GitHub
æ˜ åƒè§£æ
è‰²ã€…æ¤œè¨ã—ãŸçµæœã€ç¾çŠ¶ã§ã¯"scenedetect+GPT-4o-mini"ã®ã‚³ãƒ³ãƒœãŒå®‰ä¾¡ã§é«˜ç²¾åº¦ã¨ã„ã†çµè«–ã«ãªã‚Šã¾ã—ãŸã€‚ã‚„ã£ã¦ã„ã‚‹äº‹ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚

1. scenedetectã§å‹•ç”»ã®ã‚·ãƒ¼ãƒ³ã‚’æ¤œå‡ºï¼†ä¿å­˜
2. ç´™èŠå±…ã¿ãŸã„ã«ãªã£ãŸç”»åƒã‚’ã™ã¹ã¦openAIAPIã¸æ¸¡ã™
3. 1ã‚·ãƒ¼ãƒ³ã”ã¨ã«åŠ›æŠ€ã§GPT-4o-miniãŒå†…å®¹ã‚’ãƒ†ã‚­ã‚¹ãƒˆåŒ–

ä¾‹ãˆã°ã“ã®å‹•ç”»ã‚’æ˜ åƒè§£æã—ã¦ã¿ã‚‹ã¨ã“ã‚“ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã€‚


Scene 1: Start: 0.00s - End: 5.17s
Image Path: images/scene_1_frame_0.jpg
Analysis: ç”»åƒã¯ã€ç©ºã®é›»è»Šå†…ã‚’ç¤ºã—ã¦ã„ã‚‹ã€‚åº§å¸­ã¯é’ã„ã‚·ãƒ¼ãƒˆãŒå¼µã‚‰ã‚Œã€é€šè·¯ã¯åºƒãæ•´ç„¶ã¨ã—ã¦ã„ã‚‹ã€‚ç…§æ˜ã¯æ˜ã‚‹ãã€è»Šä¸¡ã®æ§‹é€ ãŒæ¸…æ½”æ„Ÿã‚’ä¿ã£ã¦ã„ã‚‹å°è±¡ã‚’ä¸ãˆã‚‹ã€‚äººãŒã„ãªã„ãŸã‚ã€é™ã‘ã•ãŒæ„Ÿã˜ã‚‰ã‚Œã‚‹ã‚·ãƒ¼ãƒ³ã§ã‚ã‚‹ã€‚ã“ã®ã‚ˆã†ãªçŠ¶æ³ã¯ã€é‹è¡Œä¸­ã®é›»è»ŠãŒã¾ã ä¹—å®¢ã‚’è¿ãˆã‚‹å‰ã®ç¬é–“ã‹ã€ã¾ãŸã¯çµ‚ç‚¹ã«åˆ°ç€ã—ãŸå¾Œã®æ§˜å­ã¨æ¨æ¸¬ã§ãã‚‹ã€‚

Scene 2: Start: 5.17s - End: 47.91s
Image Path: images/scene_2_frame_155.jpg
Analysis: ç”»åƒã¯ã¼ã‚„ã‘ã¦ãŠã‚Šã€è©³ç´°ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã¯é›£ã—ã„ã€‚ãŠãã‚‰ãã€å¤œé–“ã‚„æš—ã„å ´æ‰€ã§æ’®å½±ã•ã‚ŒãŸé‰„é“è»Šä¸¡ã®ä¸€éƒ¨ãŒæ˜ ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚æ˜ã‹ã‚ŠãŒç‚¹ç¯ã—ã¦ã„ã‚‹ã‚ˆã†ãªç®‡æ‰€ãŒè¦‹å—ã‘ã‚‰ã‚Œã€é§…ã‚„ãƒ›ãƒ¼ãƒ ä»˜è¿‘ã§ã®æƒ…æ™¯ã‹ã‚‚ã—ã‚Œãªã„ã€‚å…¨ä½“çš„ã«ä¸æ˜ç­ã§ã‚ã‚‹ãŸã‚ã€æ­£ç¢ºãªçŠ¶æ³ã‚’æŠŠæ¡ã™ã‚‹ã“ã¨ã¯å›°é›£ã§ã‚ã‚‹ã€‚

Scene 3: Start: 47.91s - End: 59.76s
Image Path: images/scene_3_frame_1436.jpg
Analysis: æš—ã„èƒŒæ™¯ã«å…‰æºãŒä¸€ã¤ã‚ã‚Šã€å‘¨å›²ã¯ã¼ã‚“ã‚„ã‚Šã¨ã—ãŸå½±ã«åŒ…ã¾ã‚Œã¦ã„ã‚‹ã€‚å…‰ã®å‘¨ã‚Šã«ã¯ä½•ã‹ãŒæµ®ã‹ã‚“ã§ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ãŒã€è©³ç´°ã¯ä¸æ˜ã§ã‚ã‚‹ã€‚å¤œé–“ã®ã‚·ãƒ¼ãƒ³ã§ã‚ã‚Šã€å…‰ãŒç‰¹å®šã®å¯¾è±¡ã‚’ç…§ã‚‰ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚å…¨ä½“çš„ã«ç¥ç§˜çš„ãªé›°å›²æ°—ã‚’æŒã£ãŸç”»åƒã§ã‚ã‚‹ã€‚

Scene 4: Start: 59.76s - End: 74.87s
Image Path: images/scene_4_frame_1791.jpg
Analysis: ç”»åƒã¯æš—ã„èƒŒæ™¯ã®ä¸­ã«å…‰ã®ã‚¹ãƒãƒƒãƒˆãŒè¦‹ãˆã‚‹çŠ¶æ³ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚æ–‡å­—ã«ã¯ã€Œå®Œå…¨ã«ã¨ã‚ŒãŸã§ã—ã‚‡ã†ã®ã€ã¨æ›¸ã‹ã‚Œã¦ãŠã‚Šã€ä½•ã‹ã®çŠ¶æ³ã‚„çŠ¶æ…‹ãŒå®Œå…¨ã«åæŸã—ãŸã“ã¨ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚·ãƒ¼ãƒ³ã¯ã€å‹•ç”»æ’®å½±ã‚„çŠ¶æ³ã®è¨˜éŒ²ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹å ´é¢ã®ä¸€éƒ¨ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å…‰ã®åŠ¹æœã‹ã‚‰ã€å‘¨å›²ã®ç’°å¢ƒã¯ä¸æ˜ã§ã™ãŒã€æš—é—‡ã®ä¸­ã§ã®æ˜ã‚‹ã•ã®å¯¾æ¯”ãŒå°è±¡çš„ã§ã™ã€‚

Scene 5: Start: 74.87s - End: 82.55s
Image Path: images/scene_5_frame_2244.jpg
Analysis: ç”»åƒã¯æš—ã„ç’°å¢ƒã§æ’®å½±ã•ã‚Œã¦ãŠã‚Šã€é’è‰²ã®ç¶²ãŒä¸­å¤®ã«é…ç½®ã•ã‚Œã¦ã„ã‚‹ã€‚ç¶²ã®å‘ã“ã†ã«ã¯æ°´é¢ãŒè¦‹ãˆã€å¾®ã‹ãªå…‰ãŒåå°„ã—ã¦ã„ã‚‹ã€‚å‘¨å›²ã«ã¯å²©ã®ã‚ˆã†ãªæ§‹é€ ç‰©ãŒã‚ã‚Šã€æ°´è¾ºã§ä½•ã‹ã‚’æ•ã¾ãˆã‚ˆã†ã¨ã—ã¦ã„ã‚‹æ§˜å­ãŒçªºãˆã‚‹ã€‚å…¨ä½“ã¨ã—ã¦ã¯ã€å¤œé–“ã®æ¢æ¤œã‚„é‡£ã‚Šã€ã‚ã‚‹ã„ã¯æ°´ç”Ÿç”Ÿç‰©ã®è¦³å¯Ÿã‚’è¡Œã£ã¦ã„ã‚‹ã‚·ãƒ¼ãƒ³ã¨æ¨æ¸¬ã•ã‚Œã‚‹ã€‚

Scene 6: Start: 82.55s - End: 109.38s
Image Path: images/scene_6_frame_2474.jpg
Analysis: é’ã„ãƒãƒƒãƒˆã®ä¸­ã«é­šãŒã„ã‚‹æ§˜å­ãŒè¦‹å—ã‘ã‚‰ã‚Œã€æ–‡å­—ã«ã¯ã€Œã‚¢ãƒ–ãƒ©ãƒãƒ¤ã ã€ã¨è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚ã“ã‚Œã¯ã‚¢ãƒ–ãƒ©ãƒãƒ¤ã¨ã„ã†æ·¡æ°´é­šã®ä¸€ç¨®ã§ã‚ã‚Šã€æ•ç²ã•ã‚ŒãŸã‚·ãƒ¼ãƒ³ã¨æ€ã‚ã‚Œã‚‹ã€‚å…‰ãŒå½“ãŸã£ã¦ã„ã‚‹éƒ¨åˆ†ã‹ã‚‰ã€å‘¨å›²ã¯æš—ã„ç’°å¢ƒã§ã‚ã‚‹ã¨æ¨æ¸¬ã•ã‚Œã‚‹ã€‚é­šã®å½¢çŠ¶ã‚„ç‰¹å¾´ã‹ã‚‰ã€è¦³å¯Ÿã‚„é‡£ã‚Šãªã©ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚

==é•·ã„ã®ã§çœç•¥==

ã‹ãªã‚Šç²¾åº¦é«˜ããªã„ã§ã™ã‹ï¼ŸéŸ³å£°ãƒ‡ãƒ¼ã‚¿ãªã—ã§ã™ã‚ˆã€‚

éŸ³å£°è§£æ
whisperã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ã“ã‚Œ1æœ¬ã§è§£æ±ºã€ã¡ãªã¿ã«whisperã‚‚openAIè£½ã€‚ãƒ¤ãƒã™ãã€‚

openai/whisper: Robust Speech Recognition via Large-Scale Weak Supervision
Robust Speech Recognition via Large-Scale Weak Supervision - openai/whisper

GitHub
ä½¿ã„ã”ã“ã¡ã¯è¨˜äº‹ã«ã¾ã¨ã‚ã¾ã—ãŸã®ã§æ°—ã«ãªã‚‹æ–¹ã¯ä¸€èª­ä¸‹ã•ã„ã€‚

ã€è€³ä»¥ä¸Šã€‘éŸ³å£°èªè­˜AI whisperã‚’pythonã§å‹•ã‹ã—ã¦youtubeå‹•ç”»ã‚’æ–‡å­—èµ·ã“ã—ã™ã‚‹
youtubeã®éŸ³å£°ã‚’pythonã§æ–‡å­—èµ·ã“ã—ã™ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ã¦ã€éŸ³å£°èªè­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®SpeechRecognition
diy-programming.site
chatGPTã§è¿”ç­”
ä¸Šè¨˜ã®æ˜ åƒè§£æã¨éŸ³å£°è§£æã§è¨ˆç®—ã—ãŸçµæœã‚’openaiAPIçµŒç”±ã§ã¾ãŸã¾ãŸGPT-4o-miniã¸æ¸¡ã—ã¾ã™ã€‚

ã“ã®æ™‚ã«ä¸€ç·’ã«æ¸¡ã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§è¿”ç­”å†…å®¹ã‚’æŒ‡ç¤ºã§ãã¾ã™ã€ã“ã‚Œã¯ä¸Šè¨˜ã®ç« "ç”¨é€”"ã§å‡ºã—ãŸã‚¢ã‚¤ãƒ‡ã‚¢ã®è©±ã§ã™ã­ã€‚å°æœ¬ã‚’ä½œã£ã¦ä¸‹ã•ã„/ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã‚’è¦ç´„ã—ã¦ä¸‹ã•ã„/è©•è«–ã—ã¦ä¸‹ã•ã„ã¿ãŸã„ãªäº‹ã§ã™ã€‚

ã§ã€ã“ã‚Œã‚‰ã®ä½œæ¥­ã‚’ã‚„ã£ã¦ã¿ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§è¿”ç­”ã—ã¦ãã‚Œã¾ã™ã€‚

ã€ã‚µãƒ³ãƒ—ãƒ«1ï¼šå°‚é–€æ€§ã®é«˜ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ†ã‚­ã‚¹ãƒˆåŒ–ã€‘


messages = [
    {
        "role": "user",
        "content": [
            {
                "type": "text",
                "text": f'''
                ä»¥ä¸‹ã¯å‹•ç”»ã®æ˜ åƒã¨éŸ³å£°ã®è§£æçµæœã§ã™\n
                ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®è©³ç´°ãªã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã—ã¦ä¸‹ã•ã„\n
                å„ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã”ã¨ã«åˆ†ã‹ã‚Šã‚„ã™ãèª­ã¿å¿œãˆã®ã‚ã‚‹è§£èª¬ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ä¸‹ã•ã„\n
                è§£èª¬ã®ãƒ†ã‚­ã‚¹ãƒˆã¯
                ğŸ¬ **æ˜ åƒè§£æçµæœ**:
                {analysis_results}
                ğŸ§ **éŸ³å£°è§£æçµæœ**:
                {transcription_results}
                '''
            }
        ]
    }
]

copy
### ãƒ¬ã‚¶ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆã®ãŸã‚ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«

#### 1. ã¯ã˜ã‚ã«
- **æ¦‚è¦**: ã“ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã§ã¯ã€åˆå¿ƒè€…å‘ã‘ã«ãƒ¬ã‚¶ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆã®åŸºæœ¬ã‚’è§£èª¬ã—ã¾ã™ã€‚è§†é¢‘ã‚’å‚è€ƒã«ã—ãªãŒã‚‰å®Ÿéš›ã«é“å…·ã‚’ä½¿ã£ã¦æ‰‹ã‚’å‹•ã‹ã—ã¦ã„ãã“ã¨ãŒé‡è¦ã§ã™ã€‚

---

#### 2. å¿…è¦ãªé“å…·
- **é“å…·ã®ãƒªã‚¹ãƒˆ**:
- ãƒˆãƒ¼ã‚°
- ãƒ˜ãƒ©
- ã‚¬ãƒ©ã‚¹æ¿
- ã‚«ãƒƒã‚¿ãƒ¼
- ãƒ“ãƒ‹ãƒ—ãƒ©ã‚¤
- ã‚·ãƒ£ãƒ¼ãƒšãƒ³ã‚„å®šè¦
- å„ç¨®ç©´é–‹ã‘ãƒ„ãƒ¼ãƒ«ã€é‡
- ãƒœãƒ³ãƒ‰

- **è©³ç´°ãªè§£èª¬**:
åˆã‚ã¦ãƒ¬ã‚¶ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆã‚’å§‹ã‚ã‚‹æ–¹ã«ã¨ã£ã¦ã€å¿…è¦ãªé“å…·ã‚’çŸ¥ã‚‹ã“ã¨ãŒä¸å¯æ¬ ã§ã™ã€‚**ãƒˆãƒ¼ã‚°**ã¯çš®ã«ç©´ã‚’é–‹ã‘ãŸã‚Šã€å‹ç´™ã‚’å©ãã¤ã‘ãŸã‚Šã™ã‚‹æ™‚ã«ä¾¿åˆ©ã§ã™ã€‚**ãƒ˜ãƒ©**ã¯ã€å¡—ã£ã¦ã„ãéš›ã«ç”¨ã„ã‚‹ã“ã¨ãŒå¤šãã€å®¶ã«ã‚ã‚‹ã‚‚ã®ã‚’ä»£ç”¨ã§ãã¾ã™ã€‚**ã‚¬ãƒ©ã‚¹æ¿**ã¯åŠ å·¥ã—ãŸçš®ã‚’æ»‘ã‚‰ã‹ã«ä»•ä¸Šã’ã‚‹ãŸã‚ã«ä½¿ã„ã€ä»£ç”¨ã¨ã—ã¦ã¯å¹³ã‚‰ãªæœ¨ã®æ¿ãªã©ã§ã‚‚å¯èƒ½ã§ã™ã€‚

---

#### 3. ææ–™ã®æº–å‚™
- **çš®ã®ä¸‹å‡¦ç†**:
- ãƒˆãƒ¼ã‚°ã®ä½¿ç”¨æ–¹æ³•
- ã‚«ãƒƒãƒˆã™ã‚‹ãŸã‚ã®é“å…·é¸ã³

- **è§£èª¬**:
çš®ã®æº–å‚™æ®µéšã§ã¯ãƒˆãƒ¼ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€çš®ã®ç«¯ã‚’æ•´ãˆã‚‹ã“ã¨ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚æ¬¡ã«ã€åˆ‡ã‚Šå‡ºã—ã‚’è¡Œã†ã®ã§ã™ãŒã€ã“ã®éš›ã«ã¯åˆ‡ã‚Œå‘³ã®è‰¯ã„**ã‚«ãƒƒã‚¿ãƒ¼**ã‚’é¸ã¶ã“ã¨ãŒé‡è¦ã§ã™ã€‚ã‚ªãƒ«ãƒ•ã‚¡ã‚·ãƒ£ã®ã‚«ãƒƒã‚¿ãƒ¼ãŒåˆå¿ƒè€…ã«ã¯ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚

---

#### 4. ç©´é–‹ã‘ä½œæ¥­
- **å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹**:
- **ãƒ‡ã‚£ãƒã‚¤ãƒ€ãƒ¼**: ç·šã‚’å¼•ããŸã‚ã®é“å…·ã€‚å¾®èª¿æ•´ãŒå¯èƒ½ã§ã€æ­£ç¢ºãªç·šã‚’æã‘ã¾ã™ã€‚
- **ã—ã‚ã†ã¡**: ç©´ã‚’é–‹ã‘ã‚‹ãŸã‚ã®é“å…·ã€‚æ§˜ã€…ãªã‚µã‚¤ã‚ºã®ã‚‚ã®ãŒã‚ã‚‹ãŸã‚ã€ç”¨é€”ã«åˆã‚ã›ã¦é¸ã³ã¾ã™ã€‚

- **è§£èª¬**:
ç©´é–‹ã‘ä½œæ¥­ã§ã¯ã€ã¾ãšãƒ‡ã‚£ãƒã‚¤ãƒ€ãƒ¼ã§å°ã‚’ä»˜ã‘ã€ãã®å¾Œã—ã‚ã†ã¡ã§å®Ÿéš›ã«ç©´ã‚’é–‹ã‘ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç¸«ã„ç›®ã®ä½ç½®ã‚’æ­£ç¢ºã«æ±ºã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

#### 5. ç¸«è£½ä½œæ¥­
- **å¿…è¦ãªé“å…·**:
- **é‡ã¨ç³¸**: ç³¸ã¯ä¸ˆå¤«ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚„ã‚¿ã‚¤ãƒ—ã«ã‚ˆã£ã¦ç‰¹æ€§ãŒç•°ãªã‚Šã¾ã™ã€‚
- **ç³¸åˆ‡ã‚Šãƒã‚µãƒŸ**: çŸ­ã„ç³¸ã‚’ã‚«ãƒƒãƒˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚

- **è§£èª¬**:
ç¸«è£½ä½œæ¥­ã«ã¯ã€é©åˆ‡ãªç³¸ã‚„é‡ã‚’é¸ã¶ã“ã¨ãŒéµã¨ãªã‚Šã¾ã™ã€‚ç³¸ã®å¼·åº¦ã¨ç´ æã‚’è€ƒæ…®ã—ã€å¿…è¦ã«å¿œã˜ã¦é¸ã‚“ã§ãã ã•ã„ã€‚ã¾ãŸã€ç³¸åˆ‡ã‚Šãƒã‚µãƒŸã¯å®¶åº­ã«ã‚ã‚‹ã‚‚ã®ã§ä»£ç”¨ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚

---

#### 6. è£½ä½œãƒ—ãƒ­ã‚»ã‚¹
- **ä½œæ¥­ã®æµã‚Œ**:
1. çš®ã®é¸å®šã¨ã‚«ãƒƒãƒˆ
2. ç©´é–‹ã‘
3. ç¸«è£½
4. æœ€çµ‚ä»•ä¸Šã’

- **è§£èª¬**:
è£½ä½œéç¨‹ã¯å‰µé€ çš„ã§æ¥½ã—ã‚ã‚‹ä½œæ¥­ã§ã™ã€‚çš®ã®ã‚«ãƒƒãƒˆã‹ã‚‰å§‹ã‚ã€å°ã‚’ä»˜ã‘ã¦ç©´ã‚’é–‹ã‘ã€æœ€å¾Œã«ç¸«è£½ã™ã‚‹ã¨ã„ã†æµã‚Œã§ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä¸å¯§ã«è¡Œã†ã“ã¨ã§ã€ã‚ˆã‚Šå®Œæˆåº¦ã®é«˜ã„ä½œå“ãŒä»•ä¸ŠãŒã‚Šã¾ã™ã€‚

---

#### 7. ä»•ä¸Šã’ä½œæ¥­
- **å¿…è¦ãªå™¨å…·**:
- ãƒœãƒ³ãƒ‰ã‚„æ¥ç€å‰¤ã€ä»•ä¸Šã’ç”¨ã®é“å…·ï¼ˆãƒ‰ãƒ¬ãƒƒã‚µãƒ¼ãªã©ï¼‰ã€‚

- **è§£èª¬**:
ä»•ä¸Šã’ã®æ®µéšã§ã¯ã€ç´°ã‹ãªéƒ¨åˆ†ã«ãƒœãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€å…¨ä½“ã‚’ç¾ã—ãæ•´ãˆã¾ã™ã€‚é“å…·ã®ä½¿ã„æ–¹ã«æ…£ã‚Œã¦ãã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šä»•ä¸Šã’ã®è³ªã‚‚å‘ä¸Šã—ã¾ã™ã€‚

---

#### 8. ãŠã™ã™ã‚ã®å‚è€ƒæ–‡çŒ®ã¨æƒ…å ±
- **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æ´»ç”¨**: ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ©ãƒ ã‚„YouTubeãƒãƒ£ãƒ³ãƒãƒ«ã§ã®ãƒ¬ã‚¶ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ã™ã‚‹ã“ã¨ã§ã€ä»–ã®äººã®ä½œå“ã‚„æŠ€è¡“ã‚’å‚è€ƒã«ã§ãã‚‹è‰¯ã„æ©Ÿä¼šãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚

- **æ›¸ç±**: åŸºæœ¬çš„ãªæŠ€è¡“ã‚„ææ–™ã«ã¤ã„ã¦ã€æ›´ã«æ·±ãå­¦ã¹ã‚‹æ›¸ç±ã‚’èª­ã‚€ã“ã¨ã‚‚ãŠã™ã™ã‚ã§ã™ã€‚

---

#### 9. ã¾ã¨ã‚
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æŒ¯ã‚Šè¿”ã‚Š**: å„ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«æŒ¯ã‚Šè¿”ã‚Šã€å¿…è¦ãªã“ã¨ã¨æ”¹å–„ç‚¹ã‚’è€ƒãˆã¦æ¬¡ã«ç”Ÿã‹ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

- **æ„Ÿè¬ã®è¨€è‘‰**: æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ã®ãƒ¬ã‚¶ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆã®æ—…ã‚’æ¥½ã—ã‚“ã§ãã ã•ã„ã€‚

---

ã“ã®ã‚¬ã‚¤ãƒ‰ãŒã€ã‚ãªãŸã®ãƒ¬ã‚¶ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚’åŠ©ã‘ã‚‹ã“ã¨ãŒã§ãã‚Œã°å¹¸ã„ã§ã™ã€‚æ¥½ã—ã‚“ã§å‰µä½œã‚’ã—ã¦ãã ã•ã„ï¼

ã€ã‚µãƒ³ãƒ—ãƒ«2ï¼šæ™‚äº‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’SNSç”¨ã«çŸ­ç¸®ã€‘


messages = [
    {
        "role": "user",
        "content": [
            {
                "type": "text",
                "text": f'''
                ä»¥ä¸‹ã¯å‹•ç”»ã®æ˜ åƒã¨éŸ³å£°ã®è§£æçµæœã§ã™\n
                ãƒ‹ãƒ¥ãƒ¼ã‚¹æ˜ åƒã‚’SNSã§æŠ•ç¨¿ã™ã‚‹ãŸã‚ã«æ˜ åƒãƒ»éŸ³å£°ä¸¡é¢ã‹ã‚‰è¦ç‚¹ã‚’åˆ†ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ã¦æ¬²ã—ã„\n
                ğŸ¬ **æ˜ åƒè§£æçµæœ**:
                {analysis_results}
                ğŸ§ **éŸ³å£°è§£æçµæœ**:
                {transcription_results}
                '''
            }
        ]
    }
]

copy
ğŸ… **ãƒ‹ãƒ¥ãƒ¼ã‚¹è¦ç‚¹ã¾ã¨ã‚** ğŸ…

- æ˜ åƒã¯ãƒ­ã‚µãƒ³ã‚¼ãƒ«ã‚¹ãƒ»ãƒ‰ã‚¸ãƒ£ãƒ¼ã‚¹å¯¾ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ãƒ»ãƒ¡ãƒƒãƒ„ã®é‡çƒè©¦åˆã‚’ä¸­å¿ƒã«å±•é–‹ã€‚
- è©¦åˆã®é€²è¡Œä¸­ã€ãƒ‰ã‚¸ãƒ£ãƒ¼ã‚¹ãŒ2ç‚¹ã‚’ãƒªãƒ¼ãƒ‰ã—ã€é¸æ‰‹ãŸã¡ãŒæ´»æ³ã‚’å‘ˆã—ã¦ã„ã‚‹æ§˜å­ãŒæ‰ãˆã‚‰ã‚Œã¦ã„ã‚‹ã€‚
- å¤§è°·é¸æ‰‹ãŒé‡è¦ãª3ç‚¹ãƒ›ãƒ¼ãƒ ãƒ©ãƒ³ã‚’æ‰“ã¡ã€è¦³å®¢ã®èˆˆå¥®ãŒæœ€é«˜æ½®ã«é”ã™ã‚‹ç¬é–“ã‚‚æã‹ã‚Œã¦ã„ã‚‹ã€‚
- è©¦åˆã¯ãƒŠã‚·ãƒ§ãƒŠãƒ«ãƒªãƒ¼ã‚°é¸æ‰‹æ¨©ã‚·ãƒªãƒ¼ã‚ºã®ä¸€éƒ¨ã§ã€è¦³å®¢å¸­ã¯å¤šãã®ãƒ•ã‚¡ãƒ³ã§è³‘ã‚ã£ã¦ã„ã‚‹ã€‚

ğŸ† æœŸå¾…ã¨ç·Šå¼µæ„Ÿæº¢ã‚Œã‚‹ã‚¹ãƒãƒ¼ãƒ„ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ã€è©¦åˆã®ç„¦ç‚¹ãŒå¤§è°·é¸æ‰‹ã«é›†ã¾ã£ã¦ã„ã‚‹ã“ã¨ãŒä¼ºãˆã‚‹ã€‚

ã€ã‚µãƒ³ãƒ—ãƒ«3ï¼šyoutunerã®å°æœ¬å†ç¾ã€‘


messages=[
    {"role": "system", "content": "ã‚ãªãŸã¯youtubeå°‚é–€ã®è„šæœ¬å®¶ã§ã™ã€è¦–è´è€…ãŒæœ€å¾Œã¾ã§è¦‹ã¦ã—ã¾ã†ã‚ˆã†ãªå°æœ¬ã‚’æ›¸ã„ã¦ä¸‹ã•ã„"},
    {
        "role": "user",
        "content": [
            {
                "type": "text",
                "text": f'''æ¬¡ã®æ˜ åƒè§£æã¨éŸ³å£°è§£æã®çµæœã‹ã‚‰å‹•ç”»ã®å°æœ¬ã‚’ä½œæˆã—ã¦ä¸‹ã•ã„\n
                å°æœ¬ã«ã¯å…ƒå‹•ç”»ã‚’å‚è€ƒã«ã—ã¦ã‚ªãƒªã‚¸ãƒŠãƒ«ãªè¦ç´ ã‚’è¿½åŠ ã—ã¦ä¸‹ã•ã„\n
                æ˜ åƒè§£æ: {analysis_results}\n
                éŸ³å£°è§£æ: {transcription_results}'''
            }
        ]
    }
]

copy
# å°æœ¬ï¼šå¤œã®å·è¾ºã§ã®å†’é™ºã¨æ–™ç†

---

### ã‚·ãƒ¼ãƒ³ 1: é™å¯‚ã®ä¸­ã«å§‹ã¾ã‚‹æ—… (0:00 - 1:50)
*æ˜ åƒ: æ˜ã‚‹ã„å…¬å…±äº¤é€šæ©Ÿé–¢ã®è»Šå†…ã€‚é™ã‹ãªé›°å›²æ°—ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œèª°ã‚‚ä¹—ã£ã¦ã„ãªã„é™ã‹ãªè»Šå†…ã€‚å¤–ã¯ã¾ã æš—ãã€ã“ã‚Œã‹ã‚‰ã®å†’é™ºã¸ã®æœŸå¾…æ„ŸãŒæ¼‚ã£ã¦ã„ã‚‹ã€‚ä»Šæ—¥ã¯ç‰¹åˆ¥ãªå¤œã€‚ã©ã“ã¸å‘ã‹ã†ã®ã‹ã€ä½•ãŒå¾…ã£ã¦ã„ã‚‹ã®ã‹æ¥½ã—ã¿ã ã­ï¼ã€

### ã‚·ãƒ¼ãƒ³ 2: ç”°èˆã®å¤œã«åˆ°ç€ (1:51 - 3:00)
*æ˜ åƒ: é»„è‰²ã„è¡—ç¯ãŒç‚¹ç¯ã™ã‚‹å¤œé“ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œåˆ°ç€ã—ã¾ã—ãŸï¼è¶…ç”°èˆã«æ¥ã¾ã—ãŸã­ã€‚æœˆãŒç¶ºéº—ã˜ã‚ƒãªã„ï¼Ÿå‘¨ã‚Šã«ã¯ä½•ã‚‚è¦‹ãˆãªã„ã‘ã‚Œã©ã€ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ç¬é–“ã§ã™ã€‚çœŸã£æš—ãªä¸­ã€å·ã¸å‘ã‹ã†æº–å‚™ã‚’ã—ã‚ˆã†ï¼ã€

### ã‚·ãƒ¼ãƒ³ 3: å¤œã®å·æ¢æ¤œ (3:01 - 7:00)
*æ˜ åƒ: å·ã®æµã‚Œã‚‹éŸ³ã€å¾®ã‹ãªæ°´éŸ³ãŒéŸ¿ãã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œçš†ã•ã‚“ã“ã‚“ã°ã‚“ã¯ã€‚ä»Šæ—¥ã¯å¤œã®å·ã§ã®æ¢æ¤œã§ã™ã€‚é­šãŸã¡ãŒå¯ã¦ã„ã‚‹æ™‚é–“ã ã‹ã‚‰ã€æ•ã¾ãˆã‚‹ãƒãƒ£ãƒ³ã‚¹ï¼ç©ºè…¹ã‚‚æº€ãŸã—ã¤ã¤ã€æ¥½ã—ã‚“ã§ã„ãã¾ã—ã‚‡ã†ï¼ã€

### ã‚·ãƒ¼ãƒ³ 4: é­šã®ç™ºè¦‹ (7:01 - 10:00)
*æ˜ åƒ: æ‰‹ã®ä¸­ã«æ•ã¾ãˆãŸé­šã‚’æ˜ ã™ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œè¦‹ã¦è¦‹ã¦ï¼é­šãŒæ™®é€šã«ã„ã‚‹ã€‚ãƒ©ã‚¤ãƒˆã§ç…§ã‚‰ã—ã¦ã‚‚é€ƒã’ãªã„ãªã‚“ã¦ã€ä»Šæ—¥ã¯æ¥½å‹ã«æ•ã¾ãˆã‚‰ã‚Œãã†ã ï¼ã€

### ã‚·ãƒ¼ãƒ³ 5: å®‰ä¾¡ãªç¶²ã¨é‡£ã‚Šã®æ¥½ã—ã• (10:01 - 13:00)
*æ˜ åƒ: 100å††ã®ç¶²ã‚’æ‰‹ã«ã™ã‚‹ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œ100å††ã®ç¶²ã‚’ã‚²ãƒƒãƒˆã—ã¾ã—ãŸï¼ã•ã¦ã€ã“ã‚Œã§ä¸€åŒ¹æ•ã¾ãˆã‚‰ã‚Œã‚‹ã‹ãªâ€¦ï¼Ÿå®Œå…¨ã«æ•ã‚ŒãŸç¬é–“ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¦ãã ã•ã„ï¼ã€

### ã‚·ãƒ¼ãƒ³ 6: é‡£ã‚Šã®æˆåŠŸ (13:01 - 15:00)
*æ˜ åƒ: æ•ã¾ãˆãŸé­šã‚’æ˜ ã™ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€ŒãŠã€æ•ã‚ŒãŸæ•ã‚ŒãŸï¼ã“ã®ç¬é–“ã€çµ¶å¯¾ã«ãŸã¾ã‚‰ãªã„ã‚ˆã­ã€‚ã¿ã‚“ãªã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã¦ï¼ã€

### ã‚·ãƒ¼ãƒ³ 7: å¤œã®å·ã®æ°—é… (15:01 - 18:30)
*æ˜ åƒ: æš—ãé™ã‹ãªå·è¾ºã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œä»Šã€å¤œã®å·è¾ºã§é™ã‹ãªã²ã¨ã¨ãã‚’æ¥½ã—ã‚“ã§ã„ã¾ã™ã€‚å±é™ºã‚‚ã‚ã‚‹ã®ã§ã€å¿…ãšä»²é–“ã¨ä¸€ç·’ã«æ¥ã¦ã­ã€‚æ²¹ã®åŒ‚ã„ã‚‚æ°—ã«ãªã‚‹â€¦ã€ãŠè…¹ã‚‚ç©ºã„ãŸã—ã€ã©ã‚“ã©ã‚“æ•ã¾ãˆã¦ã„ãã‚ˆï¼ã€

### ã‚·ãƒ¼ãƒ³ 8: é£Ÿæé›†ã‚ (18:31 - 22:00)
*æ˜ åƒ: è¤‡æ•°ã®é­šã‚„ã‚«ãƒ‹ã‚’æ•ã¾ãˆã‚‹ã‚·ãƒ¼ãƒ³ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œè¦‹ã¦ãã ã•ã„ã€ã‚µãƒ¯ã‚¬ãƒ‹ã‚‚æ•ã¾ãˆã¾ã—ãŸï¼ã¾ã•ã«è‡ªç„¶ã®æµã¿ã€‚ã“ã‚Œã‹ã‚‰æ–™ç†ã«ã—ã¦ã€çš†ã§ç¾å‘³ã—ãã„ãŸã ãã¾ã™ï¼ã€

### ã‚·ãƒ¼ãƒ³ 9: æ–™ç†ã®æº–å‚™ (22:01 - 26:00)
*æ˜ åƒ: æ–™ç†ã®æº–å‚™éç¨‹ã€‚æ²¹ãŒæ¸©ã¾ã£ã¦ã„ã‚‹ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œä»Šã‹ã‚‰ã•ã•ã£ã¨æ–™ç†ã—ã¦ã„ãã¾ã™ï¼æ–°é®®ãªé­šã¨ã‚«ãƒ‹ã€‚é¦™ã°ã—ã„é¦™ã‚ŠãŒã™ã‚‹ã‚ã€‚å¾…ã¡ãã‚Œãªã„ï¼ã€

### ã‚·ãƒ¼ãƒ³ 10: æ–™ç†ã®å®Œæˆ (26:01 - 30:00)
*æ˜ åƒ: é­šã‚„ã‚«ãƒ‹ãŒç„¼ã‹ã‚Œã¦ã„ã‚‹æ§˜å­ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œã§ãã¾ã—ãŸï¼ã¿ã‚“ãªã§ä½œã£ãŸæ–™ç†ã€ã“ã‚Œã‹ã‚‰å‘³ã‚ã„ã¾ã™ã€‚æœ€é«˜ã®ã”ã¡ãã†ã ã‚ˆï¼ã€

### ã‚·ãƒ¼ãƒ³ 11: é£Ÿã¹ã‚‹ç¬é–“ (30:01 - 33:00)
*æ˜ åƒ: é­šã‚’å‘³ã‚ã†ã‚·ãƒ¼ãƒ³ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œã„ãŸã ãã¾ã™ï¼ã‚ãã€ã†ã¾ã„ï¼æ–°é®®ã§æœ€é«˜ã€ä»Šæ—¥ã¯æœ€é«˜ã®å¤œã«ãªã‚Šã¾ã—ãŸï¼ã€

### ã‚·ãƒ¼ãƒ³ 12: æ¬¡å›ã®äºˆå‘Š (33:01 - 35:00)
*æ˜ åƒ: å¤œç©ºã¨å·è¾ºã®é¢¨æ™¯ã€‚*

**ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
>ã€Œæ¬¡å›ã¯æµ·ã®ç”Ÿãç‰©ã‚’æ•ã¾ãˆã«è¡Œãã¾ã™ã€‚ã©ã‚“ãªå†’é™ºãŒå¾…ã£ã¦ã„ã‚‹ã®ã‹ã€æ¥½ã—ã¿ã«ã—ã¦ã„ã¦ãã ã•ã„ã€‚ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²ã¨é«˜è©•ä¾¡ã‚‚å¿˜ã‚Œãšã«ï¼ã€

---

*æ˜ åƒã¯ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã—ã€æ¬¡å›ã®äºˆå‘ŠãŒæ˜ ã—å‡ºã•ã‚Œã‚‹ã€‚*

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«é–¢ã—ã¦ã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç ”ç©¶ã™ã‚Œã°ã‚‚ã£ã¨ç²¾åº¦ãŒç²¾åº¦ãŒä¸ŠãŒã‚‹ã¨æ€ã„ã¾ã™ãŒã€ä»•çµ„ã¿çš„ã«ã¯å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã¨è¨€ãˆãã†ã§ã™ã€‚

èª²é¡Œ
ä»Šå›ä½œã£ãŸã‚·ã‚¹ãƒ†ãƒ ã¯å€‹äººãŒæ‰‹å…ƒã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªãƒ¬ãƒ™ãƒ«ã¨æ€ã„ã¾ã™ãŒã€æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦èª²é¡Œã«æ„Ÿã˜ã¦ã„ã‚‹äº‹ãŒ3ã¤ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã‚’è§£æ¶ˆã§ãã‚Œã°æ™®é€šã«æœ‰æ–™ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦é€šç”¨ã™ã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ã—ã‚‰ã€‚

å‡¦ç†ã®é«˜é€ŸåŒ–
æ™®é€šã®ãƒ‘ã‚½ã‚³ãƒ³ã§ä½¿ã†äº‹ã‚’å‰æã«ä½œã‚Šã¾ã—ãŸã‚“ã§CPUã§å‹•ä½œã™ã‚‹ä»•çµ„ã¿ã«ãªã£ã¦ã„ã¾ã™ã€ã¤ã¾ã‚Š"ã¾ãã¾ãé…ã„"ã£ã¦äº‹ã§ã™ã€‚

ä¾‹ãˆã°ã“ã®å‹•ç”»ã‚’å‡¦ç†ã™ã‚‹ã¨ã“ã‚Œãã‚‰ã„ã®æ™‚é–“ãŒå¿…è¦ã€‚


ç”»åƒ
8:13ã®å‹•ç”»ã‚’å‡¦ç†ã™ã‚‹ã®ã«6:40ãã‚‰ã„ã‹ã‹ã‚Šã¾ã—ãŸã€‚

ã“ã‚Œã¯pytorchã¨ã‹ã§GPUã«å¯¾å¿œã•ã›ã‚Œã°å‰²ã¨ç°¡å˜ã«æ”¹å–„ã§ãã‚‹æ°—ãŒã—ã¾ã™ã€‚

æœ€çµ‚çš„ã«ã¯ã‚·ãƒ¼ãƒ³æ¤œå‡ºç²¾åº¦ã¨å‡¦ç†é€Ÿåº¦ãŒãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãªã®ã§ã€ç²¾åº¦ã‚’å–ã‚‹ã‹é€Ÿåº¦ã‚’ã¨ã‚‹ã‹ã¨ã„ã†è©±ã«ãªã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšGPUã«å¯¾å¿œã•ã›ã‚Œã°çˆ†é€Ÿã«ãªã‚‹ãƒã‚ºã§ã™ã€‚

whisperã§è©±è€…åˆ†é›¢
whisperã¯ãƒ‡ãƒ•ã‚©ã§å£°ã®åˆ†é¡ãŒã§ãã¾ã›ã‚“ã€ã©ã®ã‚»ãƒªãƒ•ã‚’èª°ãŒè¨€ã£ãŸã‹åˆ†é¡ã§ãã‚Œã°æã‚‰ãcahtGPTã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç²¾åº¦ã‚‚å‘ä¸Šã™ã‚‹ã§ã—ã‚‡ã†ã€‚

ç ”ç©¶ã—ã¦ã„ã‚‹æ–¹ã¯çµæ§‹ã„ã‚‹ã®ã§ã€å®Ÿè£…ã¯ãã“ã¾ã§é›£ã—ãã¯ç„¡ã•ãã†ã«æ€ã„ã¾ã™ã€‚

Whisperã§æ–‡å­—èµ·ã“ã—ã‚’ã—ãŸè­°äº‹éŒ²ã®ç™ºè©±è€…ã®åå‰ã‚’è‡ªå‹•çš„ã«åˆ¤å®šã™ã‚‹ï¼ - Qiita
ã“ã‚“ã«ã¡ã¯ï¼é€†ç€¬å· ( @gyakuse ) ã§ã™ï¼ä»Šæ—¥ã¯æœ€è¿‘ä½œã£ãŸè­°äº‹éŒ²æ–‡å­—èµ·ã“ã—ã‚¢ãƒ—ãƒªã«è©±è€…åˆ†é›¢æ©Ÿèƒ½ã‚’ãã£ã¤ã‘ãŸã‚‚ã®ã‚’
qiita.com
pyannote.audioã§ç°¡å˜è©±è€…åˆ†é›¢ã€œwhisperã‚’æ·»ãˆã¦ã€œ - Qiita
éŸ³å£°èªè­˜ã®ä¸–ç•Œã§ã¯ã€OpenAIãŒé–‹ç™ºã—ãŸwhisperã¨ã„ã†ãƒ¢ãƒ‡ãƒ«ãŒè©±é¡Œã«ãªã‚Šã¾ã—ãŸã­ã€‚99è¨€èªã«å¯¾å¿œã—ã¦ãŠã‚Šã€æ—¥æœ¬èªã®
qiita.com
GPT-4o-miniã®å…¥å‡ºåŠ›é™ç•Œ
GPT-4o-miniã¯å…¥åŠ›ã§128,000ãƒˆãƒ¼ã‚¯ãƒ³ / å‡ºåŠ›ã§16,384ãƒˆãƒ¼ã‚¯ãƒ³ãŒä¸Šé™ã§ã™ã€‚

gh640/openai-models-ja: (Japanese) OpenAI ç¤¾ãŒæä¾›ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã®ä¸€è¦§
(Japanese) OpenAI ç¤¾ãŒæä¾›ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã®ä¸€è¦§. Contribute to gh640/openai-models-ja development by creating an account on GitHub.

GitHub
æ—¥æœ¬èªã§è¨€ãˆã°å…¥åŠ›ï¼šç´„160,000æ–‡å­— / å‡ºåŠ›ï¼š20,000æ–‡å­—ç¨‹åº¦ã§ã™ãŒã€å½“ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã§ãªãæ˜ åƒã‚‚ãƒˆãƒ¼ã‚¯ãƒ³åŒ–ã—ã¦chatGPTã«æ¸¡ã—ã¦ã„ã‚‹ã®ã§ã€å…¥åŠ›ã§ãã‚‹ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯ã•ã‚‰ã«åˆ¶é™ã•ã‚Œã¾ã™ã€‚

ã“ã¡ã‚‰ã‚‚ã‚·ãƒ¼ãƒ³æ¤œå‡ºç²¾åº¦ã¨ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãªã®ã§"å‹•ç”»æ™‚é–“ãŒã€‡åˆ†ãªã‚‰ã€‡ãƒˆãƒ¼ã‚¯ãƒ³"ã¨ã¯ä¸€æ¦‚ã«ã¯è¨€ãˆã¾ã›ã‚“ãŒã€å®Ÿéš›ã«ä½¿ã£ã¦ã„ã‚‹æ„Ÿã˜ã ã¨æ•°ååˆ†ç¨‹åº¦ã®å‹•ç”»ã§ã‚ã‚Œã°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ä¸è¶³ãªã—ã¨ã„ã†å°è±¡ã§ã™ã€‚

ã‚‚ã—128kãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ã«æŠµè§¦ã™ã‚‹ã»ã©é•·å¤§ãªå‹•ç”»ã‚’å‡¦ç†ã™ã‚‹å ´åˆã¯ã€å‹•ç”»å´ã‚’ä¸€å®šæ™‚é–“ä»¥ä¸‹ã«åˆ†å‰²ã—ã¦ã‹ã‚‰chatGPTã«æ¸¡ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’çµåˆã™ã‚‹ã€ã¿ãŸã„ãªå‡¦ç†ãŒå¿…è¦ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚

ã‚³ãƒ”ãƒšã‚¹ã‚¯ãƒªãƒ—ãƒˆ
ã¾ãšãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ ã¯ã“ã¡ã‚‰ã€‚

ç”»åƒ
ã€requirements.txtã€‘

annotated-types==0.7.0
anyio==4.6.0
Brotli==1.1.0
certifi==2024.8.30
charset-normalizer==3.4.0
click==8.1.7
colorama==0.4.6
distro==1.9.0
exceptiongroup==1.2.2
filelock==3.16.1
fsspec==2024.9.0
h11==0.14.0
httpcore==1.0.6
httpx==0.27.2
idna==3.10
Jinja2==3.1.4
jiter==0.6.1
llvmlite==0.43.0
MarkupSafe==3.0.1
more-itertools==10.5.0
mpmath==1.3.0
mutagen==1.47.0
networkx==3.4.1
numba==0.60.0
numpy==2.0.2
openai==1.51.2
openai-whisper @ git+https://github.com/openai/whisper.git@25639fc17ddc013d56c594bfbf7644f2185fad84
opencv-python==4.10.0.84
pillow==10.4.0
platformdirs==4.3.6
pycryptodomex==3.21.0
pydantic==2.9.2
pydantic_core==2.23.4
regex==2024.9.11
requests==2.32.3
scenedetect==0.6.4
six==1.16.0
sniffio==1.3.1
sympy==1.13.3
tiktoken==0.8.0
torch==2.4.1
tqdm==4.66.5
typing_extensions==4.12.2
urllib3==2.2.3
websockets==13.1
yt-dlp==2024.10.7

copy
ã€main.pyã€‘

import os
import shutil
import time
from youtube_dl import download_youtube_video
from scene import detect_scene_changes_pyscenedetect
from scene_analysis import analyze_image
from transcription import transcribe_video
from make_text import create_text_manual

def main():
    start_time = time.time()  # å‡¦ç†é–‹å§‹æ™‚é–“ã‚’è¨˜éŒ²
    
    video_id = "video_id"
    video_path = f'videos\\{video_id}.mp4'
    images_folder = './images'
    videos_folder = './videos'
    
    # å‹•ç”»ã¨ç”»åƒã‚’ãƒªã‚»ãƒƒãƒˆ
    shutil.rmtree(videos_folder)
    os.mkdir(videos_folder)
    shutil.rmtree(images_folder)
    os.mkdir(images_folder)
    
    # YouTubeå‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
    download_youtube_video(video_id, "./videos")

    # ã‚·ãƒ¼ãƒ³æ¤œå‡º
    scene_changes = detect_scene_changes_pyscenedetect(video_path)

    # ç”»åƒã®è§£èª¬
    analysis_results = []  # è§£æçµæœã‚’ä¿å­˜ã™ã‚‹ãƒªã‚¹ãƒˆ
    for scene in scene_changes:
        image_path = scene['image_path']
        result = analyze_image(image_path)
        if result:
            scene_analysis = {
                'scene_number': scene['scene_number'],
                'start_time': scene['start_time'],
                'end_time': scene['end_time'],
                'image_path': scene['image_path'],
                'analysis': result
            }
            analysis_results.append(scene_analysis)
            print(f"Scene {scene['scene_number']}: Start: {scene['start_time']:.2f}s - End: {scene['end_time']:.2f}s\nImage Path: {scene['image_path']}\nAnalysis: {result}\n")
        else:
            print(f"Error processing {image_path}")
            
    print(analysis_results)     

    # ãƒ“ãƒ‡ã‚ªã®æ–‡å­—èµ·ã“ã—
    transcription_results = transcribe_video(video_path)
    
    print(transcription_results)

    # ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ç”Ÿæˆ
    manual = create_text_manual(analysis_results, transcription_results)
    
    # ç”Ÿæˆã•ã‚ŒãŸãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
    with open('contents.txt', 'w', encoding='utf-8') as f:
        f.write(manual)
    
    end_time = time.time()  # å‡¦ç†çµ‚äº†æ™‚é–“ã‚’è¨˜éŒ²
    elapsed_time = end_time - start_time  # çµŒéæ™‚é–“ã‚’è¨ˆç®—
    print(f"å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ‰€è¦æ™‚é–“: {elapsed_time:.2f}ç§’")

if __name__ == "__main__":
    main()

copy
ã€youtube_dl.pyã€‘

ã“ã“ã‹ã‚‰å…ˆã¯æœ‰æ–™éƒ¨åˆ†ã§ã™
import yt_dlp

def download_youtube_video(video_id, output_path):
    
    video_url = "https://www.youtube.com/watch?v="+video_id
    
    try:
        # yt-dlpã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®š
        ydl_opts = {
            'format': 'best',
            'outtmpl': f'{output_path}/{video_id}.%(ext)s'
        }

        # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
        with yt_dlp.YoutubeDL(ydl_opts) as ydl:
            ydl.download([video_url])
        print("Download completed!")
    except Exception as e:
        print(f"An error occurred: {e}")

copy
ã€scene.pyã€‘

import cv2
import os
from scenedetect import open_video, SceneManager
from scenedetect.detectors import ContentDetector

def detect_scene_changes_pyscenedetect(video_path):
    # è¨­å®šå¤‰æ•°
    threshold = 60.0  # ã‚·ãƒ¼ãƒ³æ¤œå‡ºã®ã—ãã„å€¤ ä¸‹ã’ã‚‹ã¨æ•æ„Ÿã« ä¸Šã’ã‚‹ã¨éˆæ„Ÿã«
    output_folder = 'images'  # ç”»åƒä¿å­˜å…ˆãƒ•ã‚©ãƒ«ãƒ€

    # Videoã‚’é–‹ãã€SceneManagerã®åˆæœŸåŒ–
    video = open_video(video_path)
    scene_manager = SceneManager()
    scene_manager.add_detector(ContentDetector(threshold=threshold))

    # å‹•ç”»ã‚’è§£æã—ã¦ã‚·ãƒ¼ãƒ³ã®å¢ƒç•Œã‚’è¦‹ã¤ã‘ã‚‹
    scene_manager.detect_scenes(video)

    # æ¤œå‡ºã•ã‚ŒãŸã‚·ãƒ¼ãƒ³ã®ãƒªã‚¹ãƒˆã‚’å–å¾—
    scene_list = scene_manager.get_scene_list()
    cap = cv2.VideoCapture(video_path)
    fps = cap.get(cv2.CAP_PROP_FPS)

    # ãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
    if not os.path.exists(output_folder):
        os.makedirs(output_folder)

    scenes_with_length = []

    for i, scene in enumerate(scene_list):
        start_frame = scene[0].get_frames()
        #end_frame = scene[1].get_frames() 
        end_frame = scene[1].get_frames() - 1 #ã‚·ãƒ¼ãƒ³æœ€å¾Œã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ä¿å­˜ã™ã‚‹å ´åˆ
        start_time = start_frame / fps
        end_time = end_frame / fps
        scene_length = end_time - start_time

        cap.set(cv2.CAP_PROP_POS_FRAMES, start_frame)
        ret, frame = cap.read()
        if ret:
            image_path = f"{output_folder}/scene_{i + 1}_frame_{start_frame}.jpg"
            cv2.imwrite(image_path, frame)
            scenes_with_length.append({
                "scene_number": i + 1,
                "start_frame": start_frame,
                "end_frame": end_frame,
                "start_time": start_time,
                "end_time": end_time,
                "length": scene_length,
                "image_path": image_path
            })

    # ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—é †ã«ä¸¦ã¹æ›¿ãˆã‚‹
    scenes_with_length = sorted(scenes_with_length, key=lambda x: x["start_time"])

    cap.release()
    return scenes_with_length

copy
ã€scene_analysis.pyã€‘

import os
import base64
from openai import OpenAI

# OpenAI APIã‚­ãƒ¼ã®è¨­å®š
os.environ["OPENAI_API_KEY"] = "OPENAI_API_KEY"
api_key = os.getenv("OPENAI_API_KEY")

client = OpenAI(api_key=api_key)

# ç”»åƒã‚’ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹é–¢æ•°
def encode_image(image_path):
    with open(image_path, "rb") as image_file:
        return base64.b64encode(image_file.read()).decode('utf-8')

# ç”»åƒã‚’è§£æã™ã‚‹é–¢æ•°
def analyze_image(image_path):
    
    # ç”»åƒã‚’base64ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
    base64_image = encode_image(image_path)
    
    response = client.chat.completions.create(
        model="gpt-4o-mini",
        max_tokens=10000,
        messages = [
            {
                "role": "system",
                "content": "ã‚ãªãŸã¯ç”»åƒè§£æã®å°‚é–€å®¶ã§ã™ã€‚ä»¥ä¸‹ã®ç”»åƒã«ã¤ã„ã¦ã®å®¢è¦³çš„ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’ã—ã¦ãã ã•ã„ã€‚"
            },
            {
                "role": "user",
                "content": [
                    {
                        "type": "text",
                        "text": "ã“ã®ç”»åƒã®å®¢è¦³çš„ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿”ã™,æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯å„ªå…ˆçš„ã«è€ƒæ…®ã™ã‚‹,ã©ã‚“ãªã‚·ãƒ¼ãƒ³ã‹æ¨æ¸¬,ã‚³ãƒ¡ãƒ³ãƒˆã«å‰ç½®ãã¯ä¸è¦,ã§ã‚ã‚‹èª¿,å¿…ãšæ—¥æœ¬èª"
                    },
                    {
                        "type": "image_url",
                        "image_url": {
                            "url": f"data:image/jpeg;base64,{base64_image}",
                            "detail": "low"
                        }
                    }
                ]
            }
        ]
    )

    # ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®contentéƒ¨åˆ†ã‚’æŠ½å‡ºã—ã¦è¿”å´
    try:
        return response.choices[0].message.content
    except (AttributeError, IndexError):
        return "è§£æçµæœãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚"

copy
ã€transcription.pyã€‘

import whisper

def transcribe_video(video_path):
    try:
        # ãƒ¢ãƒ‡ãƒ«ã®æŒ‡å®š
        model = whisper.load_model("small")
        # ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®šã¨æ–‡å­—èµ·ã“ã—ã®å®Ÿè¡Œ
        result = model.transcribe(video_path, verbose=True, fp16=False, language="ja")
        segments = result['segments']
        extracted_data = [
            {
                "start": segment['start'],
                "end": segment['end'],
                "text": segment['text']
            } for segment in segments
        ]
        return extracted_data
    except Exception as e:
        print(f"Error during transcription: {e}")
        return None

copy
ã€make_text.pyã€‘

import os
from openai import OpenAI

os.environ["OPENAI_API_KEY"] = "OPENAI_API_KEY"
api_key = os.getenv("OPENAI_API_KEY")

client = OpenAI(api_key=api_key)

def create_text_manual(analysis_results, transcription_results):

    response = client.chat.completions.create(
        model="gpt-4o-mini",
        max_tokens=10000,
        messages=[
            {"role": "system", "content": "ã‚ãªãŸã¯youtubeå°‚é–€ã®è„šæœ¬å®¶ã§ã™ã€è¦–è´è€…ãŒæœ€å¾Œã¾ã§è¦‹ã¦ã—ã¾ã†ã‚ˆã†ãªå°æœ¬ã‚’æ›¸ã„ã¦ä¸‹ã•ã„"},
            {
                "role": "user",
                "content": [
                    {
                        "type": "text",
                        "text": f'''æ¬¡ã®æ˜ åƒè§£æã¨éŸ³å£°è§£æã®çµæœã‹ã‚‰å‹•ç”»ã®å°æœ¬ã‚’ä½œæˆã—ã¦ä¸‹ã•ã„\n
                        å°æœ¬ã¯å…ƒå‹•ç”»ãŒåˆ†ã‹ã‚‰ãªã„ã‚ˆã†ã«è„šè‰²ã—ã‚ªãƒªã‚¸ãƒŠãƒ«ãªè¦ç´ ã‚’è¿½åŠ ã—ã¦ä¸‹ã•ã„\n
                        æ˜ åƒè§£æ: {analysis_results}\n
                        éŸ³å£°è§£æ: {transcription_results}'''
                    }
                ]
            }
        ]
    )
    
    # ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®contentéƒ¨åˆ†ã‚’æŠ½å‡ºã—ã¦è¿”å´
    try:
        return response.choices[0].message.content
    except (AttributeError, IndexError):
        return "è§£æçµæœãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚"

copy
ä½¿ã„æ–¹
å®Ÿéš›ã«ä½¿ã„å§‹ã‚ã‚‹ã¾ã§ã«å¿…è¦ãªæ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚

ç’°å¢ƒã®æ§‹ç¯‰
ä¸Šè¨˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç’°å¢ƒã¨pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒšã—ã¦ç”¨æ„ã—ã¾ã™ã€‚

å¿…è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

copy
å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
å¿…è¦ãªã®ã¯ä¸‹è¨˜ã®2ç‚¹ã ã‘ã§ã™ã€‚

youtube_idï¼ˆmain.pyï¼‰

OPENAI_API_KEYï¼ˆscene_analysis.py, make_text.pyï¼‰

ã¾ãšã¯ã“ã®äºŒã¤ã‚’åŸ‹ã‚ã¦ä¸‹ã•ã„ã€‚

å‡¦ç†å®Ÿè¡Œ
python main.py

copy
CPUã§å‹•ä½œã™ã‚‹ç”¨ãªã®ã§å‡¦ç†æ™‚é–“ã¯çµæ§‹ã‹ã‹ã‚Šã¾ã™ã€ãŠãŠã‚ˆãå‹•ç”»æ™‚é–“ã¨åŒã˜ãã‚‰ã„ã¯å¿…è¦ã‹ãªã¨æ€ã„ã¾ã™ã€‚

å‡¦ç†ãŒçµ‚ã‚ã£ãŸã‚‰main.pyã¨åŒã˜éšå±¤ã«"contents.txt"ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€ã“ã®ä¸­ã«æŒ‡ç¤ºã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¾“ã£ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã®ã§ç¢ºèªã—ã¦ä¸‹ã•ã„ã€‚

ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«å¯èƒ½ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã«é–¢ä¿‚ã™ã‚‹éƒ¨åˆ†ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚

main.pyï¼š13è¡Œç›® video_id = "video_id"ï¼ˆyoutubeå‹•ç”»ã®IDï¼‰
â†’ https://www.youtube.com/watch?v=ã€‡ã€‡ã€‡  â†ãƒãƒ«ã®å€¤

scene.pyï¼š8è¡Œç›® threshold = 50.0ï¼ˆã‚·ãƒ¼ãƒ³æ¤œå‡ºã®æ„Ÿåº¦ï¼‰
â†’ ä¸Šã’ã‚‹ã¨éˆæ„Ÿ,ä¸‹ã’ã‚‹ã¨æ•æ„Ÿã«ã€‚é«˜ã„å€¤ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ç²¾åº¦ãŒè¶³ã‚Šãªã‘ã‚Œã°ä¸‹ã’ã¦è¡Œãã‚¹ã‚¿ã‚¤ãƒ«ãŒã‚ªã‚¹ã‚¹ãƒ¡

scene.pyï¼š33è¡Œç›® end_frame = scene[1].get_frames() - 1ï¼ˆã‚·ãƒ¼ãƒ³ã®æœ€åˆã¨æœ€å¾Œã©ã£ã¡ä½¿ã‹ï¼‰
â†’ ã‚¹ãƒ©ã‚¤ãƒ‰è³‡æ–™çš„ãªæ™‚é–“çµŒéã§æƒ…å ±ãŒè¿½åŠ ã•ã‚Œã‚‹æ˜ åƒã¯ã‚·ãƒ¼ãƒ³æœ€å¾Œã‚’ä½¿ã£ãŸæ–¹ãŒç²¾åº¦ä¸ŠãŒã‚‹

scene_analysis.pyï¼š28è¡Œç›®ï¼ˆç”»åƒèªè­˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰
â†’ æ˜ åƒã«ã‚ˆã£ã¦å¤‰ãˆãŸæ–¹ãŒç²¾åº¦å‡ºã‚‹ã‹ã‚‚

transcription.pyï¼š13è¡Œç›® language="ja" ï¼ˆæ–‡å­—èµ·ã“ã—ã™ã‚‹è¨€èªï¼‰
â†’ æ—¥æœ¬èªãªã‚‰jaã€è‹±èªãªã‚‰enãªã©

make_text.pyï¼š14è¡Œç›® ï¼ˆå‡ºåŠ›ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰
â†’ ç”¨é€”ã«åˆã‚ã›ã¦æŒ‡ç¤ºã‚’å¤‰ãˆã‚‹

ã¨ã‚Šã‚ãˆãšã“ã“ã‚‰è¾ºã‚’è¦šãˆã¦ãŠã‘ã°ä¸è¶³ãªãä½¿ãˆã‚‹ã¨æ€ã„ã¾ã™ã€‚

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç²¾åº¦ãŒä½ã„å ´åˆã®tips
â—† ã‚·ãƒ¼ãƒ³æ¤œå‡ºã®é–¾å€¤ã‚’æ•æ„Ÿã«ã—ã¦ã¿ã‚‹
ã€€â†’ ãã®ä»£ã‚ã‚Šå¤šå°‘ã‚³ã‚¹ãƒˆãŒåµ©ã‚€
â—† æ¤œå‡ºã‚·ãƒ¼ãƒ³ã§ä½¿ã†ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æœ€åˆãƒ»æœ€å¾Œã§å¤‰ãˆã¦ã¿ã‚‹
ã€€â†’ åŸºæœ¬çš„ã«ã¯æœ€å¾Œã®æ–¹ãŒç²¾åº¦ä¸ŠãŒã‚‹ã¨æ€ã†ã‘ã©ã€æœ€åˆã®æ–¹ãŒã„ã„å ´åˆã‚‚ã‚ã‚‹ã‹ã‚‚
â—† å‡ºåŠ›ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¦‹ç›´ã—
ã€€â†’ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚‚chatGPTã«è€ƒãˆã¦è²°ã£ãŸæ–¹ãŒå¤§æŠµã‚¯ã‚ªãƒªãƒ†ã‚£ä¸ŠãŒã‚Šã¾ã™
â—† ãƒ¢ãƒ‡ãƒ«å¤‰æ›´ï¼ˆ"gpt-4o-mini"â†’"gpt-4o"ï¼‰
ã€€â†’ æœ€çµ‚æ‰‹æ®µã€1å›è¾ºã‚Šã®ã‚³ã‚¹ãƒˆãŒåæ•°å€ã«ãªã£ã¡ã‚ƒã†ã

ã¾ã¨ã‚
ä»Šã¾ã§ã¯youtubeå‹•ç”»ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒã‚¿ãŒå¤šã‹ã£ãŸã§ã™ãŒã€youtubeã«å­˜åœ¨ã™ã‚‹ç„¡å°½è”µãªå‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ´»ã‹ã—ã¦ä½•ã‹å‡ºæ¥ãªã„ã‹ãªã¨ã„ã†ç™ºæƒ³ã‹ã‚‰ä»Šå›ã®ãƒã‚¿ãŒç”Ÿã¾ã‚Œã¾ã—ãŸã€‚

å‹•ç”»ã®å†…å®¹ã£ã¦éŸ³å£°ã‹ã‚‰ã ã‘ã˜ã‚ƒæŠŠæ¡ã§ããªã„å†…å®¹ã‚‚å¤šãã¦ã€ä½œæ¥­å‹•ç”»ã¨ã‹vlogã¿ãŸã„ãªã‚¸ãƒ£ãƒ³ãƒ«ã ã¨å£°ã£ã¦å…¥ã‚‰ãªã„å ´åˆå¤šã„ã‚“ã§ã™ã‚ˆã€‚

é¢¨æ™¯+ãƒ†ãƒ­ãƒƒãƒ—ã§ã®è§£èª¬ãŒãƒ¡ã‚¤ãƒ³ã«ãªã£ã¦ã„ã¦ã‚‚ã€ä»Šå›ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚Œã°æ˜ åƒã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹æƒ…å ±ã‚‚chatGPTãŒç†è§£ã§ãã‚‹ã®ã§çµæ§‹ãªç²¾åº¦ãŒæœŸå¾…ã§ãã¾ã™ã€‚

çš†æ§˜ãŒä»Šå›ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ä¸Šæ‰‹ã„ã“ã¨ä½¿ã£ã¦ãƒœãƒ­å„²ã‘å‡ºæ¥ã‚‹äº‹ã‚’ãŠç¥ˆã‚Šç”³ã—ä¸Šã’ã¦ãŠãã¾ã™m(_ _)m